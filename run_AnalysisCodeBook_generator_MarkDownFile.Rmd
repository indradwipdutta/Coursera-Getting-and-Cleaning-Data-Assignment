---
title: "codebook_run_Analysis"
author: "Indradwip Dutta"

output:
  html_document: default
  pdf_document: default
  word_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE,error = FALSE)
```

## Script "run_Analysis.R" Code Book generated using R-Markdown scripting that outputs the file into HTML

### the document explains how the "run_Analysis.R" script has been built up from the different available Datasets

These available datasets include the following:

####1.The Raw inertial signals taken for every volunteer(subject) participating in the data collection exercise of human activities.The signals are collected at a sampling size of 128 signals per record at 50 HZ frequency.These signals are present in the datasets as below
                  
### For Testing purpose(data randomly taken for testing or training from raw signals collected)
 
      Body Total Acceleration in x,y and Z direction
      1.total_acc_x_test.txt
      2.total_acc_y_test.txt
      3.total_acc_z_test.txt
                      
      Body vibration and rotational motion from Gyrometer in x,y and Z direction
  
      1.body_gyro_x_test.txt
      2.body_gyro_y_test.txt
      3.body_gyro_z_test.txt
                      
        Body Acceleration in x,y and Z direction obtained by deducting the gravitational Component of body Total Acceleration 
  
      1.body_acc_x_test.txt
      2.body_acc_y_test.txt                
      3.body_acc_z_test.txt               
      
The Data Sample of one of the  above datasets is given below,including 128 observations from the subjects along the rows.    
                      
```{r  xtable, results = 'asis',echo=FALSE,warning=FALSE}
library(xtable)
total_acc_test_x_direction<-data.frame(read.table(file.path("./dataCleanAssignment/data/UCI HAR Dataset","test","subject_test.txt"),header = FALSE),(read.table(file.path("./dataCleanAssignment/data/UCI HAR Dataset/test/Inertial Signals/total_acc_x_test.txt"),header = FALSE)))
colnames(total_acc_test_x_direction)<-c("Subject_ID",sprintf("Rd%d",1:128))

print("total_acc_x_test.txt")
print(xtable(head(total_acc_test_x_direction)), type = "html")

```

Similar Datasets in y and Z direction exists for all the subjects(Subject ID or volunteer IDs are 1,2,3,4...etc.) who took part in sharing the Samsing SII data from their activities


### For Training purpose(data randomly taken for testing or training from raw signals collected)
 
      Body Total Acceleration in x,y and Z direction
      1.total_acc_x_train.txt
      2.total_acc_y_train.txt
      3.total_acc_z_train.txt
                      
      Body vibration and rotational motion from Gyrometer in x,y and Z direction
  
      1.body_gyro_x_train.txt
      2.body_gyro_y_train.txt
      3.body_gyro_z_train.txt
                      
        Body Acceleration in x,y and Z direction obtained by deducting the gravitational Component of body Total Acceleration 
  
      1.body_acc_x_train.txt
      2.body_acc_y_train.txt                
      3.body_acc_z_train.txt               
      
The Data Sample of one of the  above datasets is given below,including 128 observations from the subjects along the rows.  

```{r  results = 'asis',echo=FALSE}
library(xtable)
total_acc_train_x_direction<-data.frame(read.table(file.path("./dataCleanAssignment/data/UCI HAR Dataset","train","subject_train.txt"),header = FALSE),(read.table(file.path("./dataCleanAssignment/data/UCI HAR Dataset/train/Inertial Signals/total_acc_x_train.txt"),header = FALSE)))
colnames(total_acc_train_x_direction)<-c("Subject_ID",sprintf("Rd%d",1:128))

print("total_acc_x_train.txt")
print(xtable(head(total_acc_train_x_direction)), type = "html")

```


Similar Datasets in y and Z direction exists for all the subjects(Subject ID or volunteer IDs are 1,2,3,4...etc.) who took part in sharing the Samsing SII data from their activities


####2.The Derived Variables,derived from the raw signals above by applying the 561 listed functions


#### However these Datasets as mentioned above have been used to derive further Datasets called 

##### 1.X_test.txt
##### 2.Y_test.txt
##### 3.X_train.txt
##### 4.Y_train.txt



these datasets are our interset in the calculation analysis here.
The datasets above have been processed per record/subject/activity by using the 561 functions listed in "features.txt"

The 561 functions below have been used to derive the variables in X_test,Y_test,X_train,Y_train Dataset


```{r  results = 'asis',echo=FALSE}
features_function_List<-read.table(file.path("./dataCleanAssignment/data/UCI HAR Dataset","features.txt"),header = FALSE)
features_function_List<-t(features_function_List)
library(xtable)
print("features.txt")
print(xtable(features_function_List),type="html")
```





###In the "run_analysis.R" script,the data for Test and Training has been combined as below

1. The test data has been combined to form a Dataset as below.The first two columns are "Subject" and "Activity" respectively and the rest are all the calculations derived from 561 functions mentioned above.This variable dataset that holds this is called 

####"testData"


```{r  results = 'asis',echo=FALSE,warning=FALSE,eval=TRUE,error=FALSE}
source("run_analysis.R")
library(xtable)
print("testData")
print(xtable(head(testData)),type="html")
```


2. The training data has been combined to form a Dataset as below.The first two columns are "Subject" and "Activity" respectively respectively and the rest are all the calculations derived from 561 functions mentioned above.This variable dataset that holds this is called 

####"trainData"

```{r  results = 'asis',echo=FALSE}
library(xtable)
print("trainData")
print(xtable(head(trainData)),type="html")
```



3. Finally the test and training data has been combined to form a Dataset as below.This variable dataset that hols this is called 

####"combiDataset"

```{r  results = 'asis',echo=FALSE}
library(xtable)
print("combiDataset")
print(xtable(head(combiDataset)),type="html")
```


4. However,the Combined dataset as mentioned above was sub set with only the variables that calculate the mean() and the standard deviation,std() of the raw signals.The Variable Dataset that holds this new dataset is called, 

####"subCombiData"


5. Further,the dataset "subCombiData" has the activity column values denoted as Activity Code.This has to be changed to actual activity itself
This combined Dataset has the activities denoted as 1,2,3,4,5,6 which are codes for the activities as below.

```{r  results = 'asis',echo=FALSE}
activities_List<-read.table(file.path("./dataCleanAssignment/data/UCI HAR Dataset","activity_labels.txt"),header = FALSE)
colnames(activities_List)<-c("Activity Code","Activity")
library(xtable)
print("activity_label.txt")
print(xtable(activities_List),type="html")
```


6. Further as the column names of the final dataset is still the functions that have derived these columns from raw signals,the function names has to be denoted  with fully explained and expanded annotation.Usually 
    
    t=time series Data or functions working on time series data
    
    f=frequency series data or functions working on frequency series data
    
  this has to be changed to time and frequency,i.e replace t by time and f by frequency in the column names.
    
After doing this the Dataset which is in the variable 

####"subCombiData" is as below with column names improved


```{r  results = 'asis',echo=FALSE}
library(xtable)
print("subCombiData")
print(xtable(head(subCombiData)),type="html")
```





7. The subcombiData has furher been aggregated by Subject(volunteers) and then by their individual activities.The final tidy data has been collected in the dataframe variable,

####"freshCombiData".This Data.frame variable is as below

```{r  results = 'asis',echo=FALSE}
library(xtable)
print("freshCombiData")
print(xtable(head(freshCombiData)),type="html")
```


##freshCombiData variable is the final data set of the assignment

### the dataset freshCombidata has been output to a text file "tidydata.txt" that has been stored in the working directory and also uploaded in this project repo
